python exon_coverage_per_gene.py --inbamlist A.bam --genome U00096.3.gff3 --outPath output/ --winwidth 300 --exonsize 1000
python exon_coverage_per_gene_2.py --inbamlist A.bam --genome U00096.3.gff3 --outPath output/ --winwidth 300 --exonsize 1000
python exon_coverage_per_gene_3.py --inbamlist ../exon_coverage_input_output/A.bam --genome ../exon_coverage_input_output/U00096.3.gff3 --outPath ../exon_coverage_input_output/output/ --winwidth 300 --exonsize 1000 --plots 5
python exon_coverage_per_gene.py --inbamlist A.bam --genome U00096.3.gff3 --outPath output/ --winwidth 300 --plots 10

python exon_coverage_per_operon.py --inbamlist ../exon_coverage_input_output/A.bam --operons ../exon_coverage_input_output/OperonSet.tsv --genes ../exon_coverage_input_output/Gene_sequence.tsv --outPath ../exon_coverage_input_output/output/ --winwidth 50 --plots 5

python spacer_coverage_ML_data_prep.py --inbamlist ../exon_coverage_input_output/A.bam --operons ../exon_coverage_input_output/OperonSet.tsv --genes ../exon_coverage_input_output/Gene_sequence.tsv --genome ../exon_coverage_input_output/U00096.3.fasta --outPath ../exon_coverage_input_output/output/ --winwidth 2000 --plots 5

python spacer_coverage_ML_data_prep.py --inbamlist ../exon_coverage_input_output/genomeBamsrestr/BSSE_QGF_134005_HY3GMBGXC_1_20191208_1_pFS_0453_MG1655_Bern_Group_Chow_Day_1_Source_Feces_Mouse_1_Day_post_switch_NA_TGGTAACG_AAGTAGAG_S1_R1_001_MM_1.bam --operons ../exon_coverage_input_output/OperonSet.tsv --genes ../exon_coverage_input_output/Gene_sequence.tsv --genome ../exon_coverage_input_output/U00096.3.fasta --outPath ../exon_coverage_input_output/output/ --winwidth 2000 --plots 5 --count_matrix ../genomeCounts_extended_UMI.txt 

python spacer_coverage_ML_data_prep.py --inbamlist ../exon_coverage_input_output/genomeBamsrestr/*.bam --operons ../exon_coverage_input_output/OperonSet.tsv --genes ../exon_coverage_input_output/Gene_sequence.tsv --genome ../exon_coverage_input_output/U00096.3.fasta --outPath ../exon_coverage_input_output/output/ --winwidth 2000 --plots 5 --count_matrix ../genomeCounts_extended_UMI.txt 

python spacer_coverage_ML_data_prep.py --inbamlist ../exon_coverage_input_output/genomeBamsrestr/*.bam --operons ../exon_coverage_input_output/OperonSet.tsv --genes ../exon_coverage_input_output/Gene_sequence.tsv --genome ../exon_coverage_input_output/U00096.3.fasta --outPath ../exon_coverage_input_output/output/ --winwidth 2000 --plots 5 --count_matrix ../genomeCounts_extended_UMI.txt --coverage_df ../exon_coverage_input_output/output/window_coverage_data.csv

test:
python spacer_coverage_data_prep.py --inbamlist ../exon_coverage_input_output/genomeBamsrestr/*.bam --operons ../exon_coverage_input_output/OperonSet.tsv --genes ../exon_coverage_input_output/Gene_sequence.tsv --outPath ../exon_coverage_input_output/output/ --winwidth 2000 --plots 5 --count_matrix ../genomeCounts_extended_UMI.txt --batchsize 2



full run:

python spacer_coverage_data_prep.py --inbamlist ../exon_coverage_input_output/genomeBams/*.bam --operons ../exon_coverage_input_output/OperonSet.tsv --genes ../exon_coverage_input_output/Gene_sequence.tsv --outPath ../exon_coverage_input_output/output/ --winwidth 2000 --plots 5 --count_matrix ../genomeCounts_extended_UMI.txt --batchsize 10

sbatch --time=20:30:45 --wrap "python spacer_coverage_data_prep.py --inbamlist ../exon_coverage_input_output/genomeBams/*.bam --operons ../exon_coverage_input_output/OperonSet.tsv --genes ../exon_coverage_input_output/Gene_sequence.tsv --outPath ../exon_coverage_input_output/output/ --winwidth 2000 --plots 5 --count_matrix ../genomeCounts_extended_UMI.txt --batchsize 10"

sequence_data_prep:

python sequence_data_prep.py --genome ../exon_coverage_input_output/U00096.3.fasta --operons ../exon_coverage_input_output/OperonSet.tsv --genes ../exon_coverage_input_output/Gene_sequence.tsv --outPath ../exon_coverage_input_output/output/ --winwidth 2000 --coverage_df ../exon_coverage_input_output/output/window_coverage_data_summed_full.csv


plots: 

python plot_windows.py --promoters ../spacer_coverage_input/ECOCYC_promoters.txt --terminators ../spacer_coverage_input/ECOCYC_terminators.txt --genes ../spacer_coverage_input/ECOCYC_genes.txt --data_dir /cluster/scratch/hugifl/spacer_coverage_final_data/ --outPath ../spacer_coverage_output/ --winwidth 3200 --binsize 4 --plots 40 --overlap 1600 --data train_test_data_normalized_windows_info_smoothed.npz --dataset_name paraquat_window_3200_overlapt_1600_binsize_4

comparison plots:

python plot_window_multiple_experiments.py --promoters ../spacer_coverage_input/ECOCYC_promoters.txt --terminators ../spacer_coverage_input/ECOCYC_terminators.txt --genes ../spacer_coverage_input/ECOCYC_genes.txt --data_dir /cluster/scratch/hugifl/spacer_coverage_final_data/ --outPath ../spacer_coverage_output/ --winwidth 3200 --binsize 4 --plots 40 --overlap 1600 --data train_test_data_normalized_windows_info_smoothed.npz --dataset_name_1 paraquat_window_3200_overlapt_1600_binsize_4 --dataset_name_2 window_3200_overlapt_1600_binsize_4 --dataset_name_plot_1 In_vitro_Paraquat --dataset_name_plot_2 In_vivo_Gut

python plot_window_multiple_experiments.py --promoters ../spacer_coverage_input/ECOCYC_promoters.txt --terminators ../spacer_coverage_input/ECOCYC_terminators.txt --genes ../spacer_coverage_input/ECOCYC_genes.txt --data_dir /cluster/scratch/hugifl/spacer_coverage_final_data/ --outPath ../spacer_coverage_output/ --winwidth 3200 --binsize 1 --plots 10 --overlap 1600 --data train_test_data_normalized_windows_info_smoothed.npz --dataset_name_1 Diet1_window_3200_overlap_1600_no_binning_gene_normalized_data --dataset_name_2 Diet2_window_3200_overlap_1600_no_binning_gene_normalized_data --dataset_name_3 Paraquat_window_3200_overlap_1600_no_binning_gene_normalized_data --dataset_name_4 In_vivo_diet1_2_In_vitro_paraquat_data --dataset_name_plot_1 In_vivo_Diet1 --dataset_name_plot_2 In_vivo_Diet2 --dataset_name_plot_3 In_vitro_Paraquat --dataset_name_plot_4 Combined_datasets



sbatch --time=15:00:00 --mem-per-cpu=50G --wrap="snakemake --cores 1"

sbatch --time=24:00:00  --wrap="snakemake --slurm --jobs 100 --default-resources slurm_account=public"

sbatch --time=24:00:00 --wrap="python -m snakemake --slurm --jobs 100 --default-resources slurm_account=public"
